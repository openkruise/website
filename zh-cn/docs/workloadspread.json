{
  "filename": "workloadspread.md",
  "__html": "<h1 id=\"workloadspread\">WorkloadSpread <a class=\"header-anchor\" href=\"#workloadspread\">#</a></h1>\n<p><strong>FEATURE STATE:</strong> Kruise v0.10.0</p>\n<p>WorkloadSpread能够将workload的Pod按一定规则分布到不同类型的Node节点上，赋予单一workload多区域部署和弹性部署的能力。</p>\n<p>常见的一些规则包括：</p>\n<ul>\n<li>水平打散（比如按host、az等维度的平均打散）。</li>\n<li>按指定比例打散（比如按比例部署Pod到几个指定的 az 中）。</li>\n<li>带优先级的分区管理，比如：\n<ul>\n<li>优先部署到ecs，资源不足时部署到eci。</li>\n<li>优先部署固定数量个pod到ecs，其余到eci。</li>\n</ul>\n</li>\n<li>定制化分区管理，比如：\n<ul>\n<li>控制workload部署不同数量的Pod到不同的cpu架构上。</li>\n<li>确保不同的cpu架构上的Pod配有不同的资源配额。</li>\n</ul>\n</li>\n</ul>\n<p>WorkloadSpread与OpenKruise社区的UnitedDeployment功能相似，每一个WorkloadSpread定义多个区域（定义为<code>subset</code>），\n每个<code>subset</code>对应一个<code>maxReplicas</code>数量。WorkloadSpread利用Webhook注入<code>subset</code>定义的域信息，同时控制Pod的扩缩容顺序。\n与UnitedDeployment<strong>不同</strong>的是，UnitedDeployment是帮助用户创建并管理多个workload，WorkloadSpread仅作用在单个workload之上，用户提供workload即可。</p>\n<p>当前支持的workload类型：<code>CloneSet</code>、<code>Deployment</code>、<code>ReplicaSet</code>。</p>\n<h2 id=\"workloadspread-demo\">WorkloadSpread Demo <a class=\"header-anchor\" href=\"#workloadspread-demo\">#</a></h2>\n<pre><code class=\"language-yaml\"><span class=\"hljs-attr\">apiVersion:</span> <span class=\"hljs-string\">apps.kruise.io/v1alpha1</span>\n<span class=\"hljs-attr\">kind:</span> <span class=\"hljs-string\">WorkloadSpread</span>\n<span class=\"hljs-attr\">metadata:</span>\n  <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">workloadspread-demo</span>\n<span class=\"hljs-attr\">spec:</span>\n  <span class=\"hljs-attr\">targetRef:</span>\n    <span class=\"hljs-attr\">apiVersion:</span> <span class=\"hljs-string\">apps/v1</span> <span class=\"hljs-string\">|</span> <span class=\"hljs-string\">apps.kruise.io/v1alpha1</span>\n    <span class=\"hljs-attr\">kind:</span> <span class=\"hljs-string\">Deployment</span> <span class=\"hljs-string\">|</span> <span class=\"hljs-string\">CloneSet</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">workload-xxx</span>\n  <span class=\"hljs-attr\">subsets:</span>\n  <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">subset-a</span>\n    <span class=\"hljs-attr\">requiredNodeSelectorTerm:</span>\n      <span class=\"hljs-attr\">matchExpressions:</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">key:</span> <span class=\"hljs-string\">topology.kubernetes.io/zone</span>\n        <span class=\"hljs-attr\">operator:</span> <span class=\"hljs-string\">In</span>\n        <span class=\"hljs-attr\">values:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">zone-a</span>\n   <span class=\"hljs-attr\">preferredNodeSelectorTerms:</span>\n   <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">weight:</span> <span class=\"hljs-number\">1</span>\n     <span class=\"hljs-attr\">preference:</span>\n     <span class=\"hljs-attr\">matchExpressions:</span>\n     <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">key:</span> <span class=\"hljs-string\">another-node-label-key</span>\n       <span class=\"hljs-attr\">operator:</span> <span class=\"hljs-string\">In</span>\n       <span class=\"hljs-attr\">values:</span>\n       <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">another-node-label-value</span>\n    <span class=\"hljs-attr\">maxReplicas:</span> <span class=\"hljs-number\">3</span>\n    <span class=\"hljs-attr\">tolertions:</span> <span class=\"hljs-string\">[]</span>\n    <span class=\"hljs-attr\">patch:</span>\n      <span class=\"hljs-attr\">metadata:</span>\n        <span class=\"hljs-attr\">labels:</span>\n          <span class=\"hljs-attr\">xxx-specific-label:</span> <span class=\"hljs-string\">xxx</span>\n  <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">subset-b</span>\n    <span class=\"hljs-attr\">requiredNodeSelectorTerm:</span>\n      <span class=\"hljs-attr\">matchExpressions:</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">key:</span> <span class=\"hljs-string\">topology.kubernetes.io/zone</span>\n        <span class=\"hljs-attr\">operator:</span> <span class=\"hljs-string\">In</span>\n        <span class=\"hljs-attr\">values:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">zone-b</span>\n  <span class=\"hljs-attr\">scheduleStrategy:</span>\n    <span class=\"hljs-attr\">type:</span> <span class=\"hljs-string\">Adaptive</span> <span class=\"hljs-string\">|</span> <span class=\"hljs-string\">Fixed</span>\n    <span class=\"hljs-attr\">adaptive:</span>\n      <span class=\"hljs-attr\">rescheduleCriticalSeconds:</span> <span class=\"hljs-number\">30</span>\n</code></pre>\n<p><code>targetRef</code>: 指定WorkloadSpread管理的workload。不可以变更，且一个workload只能对应一个WorkloadSpread。</p>\n<h2 id=\"spec.subsets\">spec.subsets <a class=\"header-anchor\" href=\"#spec.subsets\">#</a></h2>\n<p><code>subsets</code>定义了多个区域(<code>subset</code>),每个区域配置不同的subset信息</p>\n<h3 id=\"subset%E5%AD%97%E6%AE%B5%E8%AF%B4%E6%98%8E\">subset字段说明 <a class=\"header-anchor\" href=\"#subset%E5%AD%97%E6%AE%B5%E8%AF%B4%E6%98%8E\">#</a></h3>\n<ul>\n<li>\n<p><code>name</code>: subset的名称，在同一个WorkloadSpread下name唯一，代表一个topology区域。</p>\n</li>\n<li>\n<p><code>maxReplicas</code>：该subset所期望调度的最大副本数，需为 &gt;= 0的整数。若设置为空，代表不限制subset的副本数。</p>\n</li>\n</ul>\n<blockquote>\n<p>当前版本暂不支持百分比类型。</p>\n</blockquote>\n<ul>\n<li>\n<p><code>requiredNodeSelectorTerm</code>: 强制匹配到某个zone。</p>\n</li>\n<li>\n<p><code>preferredNodeSelectorTerms</code>: 尽量匹配到某个zone。</p>\n</li>\n</ul>\n<p><strong>注意</strong>：requiredNodeSelectorTerm对应k8s nodeAffinity的requiredDuringSchedulingIgnoredDuringExecution。\npreferredNodeSelectorTerms对应nodeAffinity preferredDuringSchedulingIgnoredDuringExecution。</p>\n<ul>\n<li><code>tolerations</code>: <code>subset</code>Pod的Node容忍度。</li>\n</ul>\n<pre><code class=\"language-yaml\"><span class=\"hljs-attr\">tolerations:</span>\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">key:</span> <span class=\"hljs-string\">\"key1\"</span>\n  <span class=\"hljs-attr\">operator:</span> <span class=\"hljs-string\">\"Equal\"</span>\n  <span class=\"hljs-attr\">value:</span> <span class=\"hljs-string\">\"value1\"</span>\n  <span class=\"hljs-attr\">effect:</span> <span class=\"hljs-string\">\"NoSchedule\"</span>\n</code></pre>\n<ul>\n<li><code>patch</code>: 定制<code>subset</code>中的Pod配置，可以是Annotations、Labels、Env等。</li>\n</ul>\n<p>例子：</p>\n<pre><code class=\"language-yaml\"><span class=\"hljs-comment\"># patch pod with a topology label:</span>\n<span class=\"hljs-attr\">patch:</span>\n  <span class=\"hljs-attr\">metadata:</span>\n    <span class=\"hljs-attr\">labels:</span>\n      <span class=\"hljs-attr\">topology.application.deploy/zone:</span> <span class=\"hljs-string\">\"zone-a\"</span>\n</code></pre>\n<pre><code class=\"language-yaml\"><span class=\"hljs-comment\"># patch pod container resources:</span>\n<span class=\"hljs-attr\">patch:</span>\n  <span class=\"hljs-attr\">spec:</span>\n    <span class=\"hljs-attr\">containers:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">main</span>\n      <span class=\"hljs-attr\">resources:</span>\n        <span class=\"hljs-attr\">limit:</span>\n          <span class=\"hljs-attr\">cpu:</span> <span class=\"hljs-string\">\"2\"</span>\n          <span class=\"hljs-attr\">memory:</span> <span class=\"hljs-string\">800Mi</span>\n</code></pre>\n<pre><code class=\"language-yaml\"><span class=\"hljs-comment\"># patch pod container env with a zone name:</span>\n<span class=\"hljs-attr\">patch:</span>\n  <span class=\"hljs-attr\">spec:</span>\n    <span class=\"hljs-attr\">containers:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">main</span>\n      <span class=\"hljs-attr\">env:</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">K8S_AZ_NAME</span>\n        <span class=\"hljs-attr\">value:</span> <span class=\"hljs-string\">zone-a</span>\n</code></pre>\n<h2 id=\"%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5\">调度策略 <a class=\"header-anchor\" href=\"#%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5\">#</a></h2>\n<p>WorkloadSpread提供了两种调度策略，默认为<code>Fixed</code>:</p>\n<pre><code class=\"language-yaml\"><span class=\"hljs-attr\">scheduleStrategy:</span>\n    <span class=\"hljs-attr\">type:</span> <span class=\"hljs-string\">Adaptive</span> <span class=\"hljs-string\">|</span> <span class=\"hljs-string\">Fixed</span>\n    <span class=\"hljs-attr\">adaptive:</span>\n      <span class=\"hljs-attr\">rescheduleCriticalSeconds:</span> <span class=\"hljs-number\">30</span>\n</code></pre>\n<h3 id=\"fixed%3A\">Fixed: <a class=\"header-anchor\" href=\"#fixed%3A\">#</a></h3>\n<p>workload严格按照<code>subsets</code>定义分布。</p>\n<h3 id=\"adaptive\">Adaptive <a class=\"header-anchor\" href=\"#adaptive\">#</a></h3>\n<p><strong>Reschedule</strong>：Kruise检查<code>subset</code>中调度失败的Pod，若超过用户定义的时间就将其调度到其他有可用的<code>subset</code>上。</p>\n<h2 id=\"%E7%8E%AF%E5%A2%83%E8%A6%81%E6%B1%82\">环境要求 <a class=\"header-anchor\" href=\"#%E7%8E%AF%E5%A2%83%E8%A6%81%E6%B1%82\">#</a></h2>\n<h3 id=\"pod-webhook\">Pod Webhook <a class=\"header-anchor\" href=\"#pod-webhook\">#</a></h3>\n<p>WorkloadSpread利用<code>webhook</code>向Pod注入域规则。</p>\n<p>如果<code>PodWebhook</code> feature-gate被设置为<code>false</code>，WorkloadSpread也将不可用。</p>\n<h3 id=\"deletion-cost-feature\">deletion-cost feature <a class=\"header-anchor\" href=\"#deletion-cost-feature\">#</a></h3>\n<p><code>CloneSet</code>已经支持该特性。</p>\n<p>其他native workload需kubernetes version &gt;= 1.21。1.21版本需要开启 <code>PodDeletionCost</code> feature-gate。自1.22起默认开启。</p>\n<h2 id=\"%E6%89%A9%E7%BC%A9%E5%AE%B9%E9%A1%BA%E5%BA%8F%EF%BC%9A\">扩缩容顺序： <a class=\"header-anchor\" href=\"#%E6%89%A9%E7%BC%A9%E5%AE%B9%E9%A1%BA%E5%BA%8F%EF%BC%9A\">#</a></h2>\n<p>WorkloadSpread所管理的workload会按照<code>subsets</code>中定义的顺序扩缩容，<strong><code>subset</code>的顺序允许改变</strong>，即通过改变<code>subset</code>的顺序来调整扩缩容的顺序。</p>\n<p>规则如下：</p>\n<h3 id=\"%E6%89%A9%E5%AE%B9\">扩容 <a class=\"header-anchor\" href=\"#%E6%89%A9%E5%AE%B9\">#</a></h3>\n<ul>\n<li>按照<code>spec.subsets</code>中<code>subset</code>定义的顺序调度Pod，当前<code>subset</code>的active Pod数量达到<code>maxReplicas</code>时再调度到下一个<code>subset</code>。</li>\n</ul>\n<h3 id=\"%E7%BC%A9%E5%AE%B9\">缩容 <a class=\"header-anchor\" href=\"#%E7%BC%A9%E5%AE%B9\">#</a></h3>\n<ul>\n<li>当<code>subset</code>的副本数(active)大于定义的maxReplicas时，优先缩容多余的Pod。</li>\n<li>依据<code>spec.subsets</code>中<code>subset</code>定义的顺序，后面<code>subset</code>的Pod先于前面的被删除。</li>\n</ul>\n<p>例如：</p>\n<pre><code class=\"language-yaml\"><span class=\"hljs-comment\">#             subset-a   subset-b  subset-c</span>\n<span class=\"hljs-comment\"># maxReplicas    10          10        nil</span>\n<span class=\"hljs-comment\"># pods number    10          10        10</span>\n<span class=\"hljs-comment\"># 删除顺序为: c -&gt; b -&gt; a</span>\n\n<span class=\"hljs-comment\">#             subset-a   subset-b  subset-c</span>\n<span class=\"hljs-comment\"># maxReplicas    10          10        nil</span>\n<span class=\"hljs-comment\"># pods number    20          20        20</span>\n<span class=\"hljs-comment\"># 删除顺序为: b -&gt; a -&gt; c</span>\n</code></pre>\n<h2 id=\"feature-gates\">feature-gates <a class=\"header-anchor\" href=\"#feature-gates\">#</a></h2>\n<p>WorkloadSpread默认是关闭的，如果要开启请通过设置 feature-gates <em>WorkloadSpread</em>.</p>\n<pre><code class=\"language-bash\">$ helm install kruise https://... --<span class=\"hljs-built_in\">set</span> featureGates=<span class=\"hljs-string\">\"WorkloadSpread=true\"</span>\n</code></pre>\n<h2 id=\"%E4%BE%8B%E5%AD%90\">例子 <a class=\"header-anchor\" href=\"#%E4%BE%8B%E5%AD%90\">#</a></h2>\n<h3 id=\"%E5%BC%B9%E6%80%A7%E9%83%A8%E7%BD%B2\">弹性部署 <a class=\"header-anchor\" href=\"#%E5%BC%B9%E6%80%A7%E9%83%A8%E7%BD%B2\">#</a></h3>\n<p>zone-a（ack）固定100个Pod，zone-b（eci）做弹性区域</p>\n<ol>\n<li>创建WorkloadSpread实例</li>\n</ol>\n<pre><code class=\"language-yaml\"><span class=\"hljs-attr\">apiVersion:</span> <span class=\"hljs-string\">apps.kruise.io/v1alpha1</span>\n<span class=\"hljs-attr\">kind:</span> <span class=\"hljs-string\">WorkloadSpread</span>\n<span class=\"hljs-attr\">metadta:</span>\n  <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">ws-demo</span>\n  <span class=\"hljs-attr\">namespace:</span> <span class=\"hljs-string\">deploy</span>\n<span class=\"hljs-attr\">spec:</span>\n  <span class=\"hljs-attr\">targetRef:</span> <span class=\"hljs-comment\"># 相同namespace下的workload</span>\n    <span class=\"hljs-attr\">apiVersion:</span> <span class=\"hljs-string\">apps.kruise.io/v1alpha1</span>\n    <span class=\"hljs-attr\">kind:</span> <span class=\"hljs-string\">CloneSet</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">cs-demo</span>\n  <span class=\"hljs-attr\">subsets:</span>\n  <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">ack</span> <span class=\"hljs-comment\"># zone ack，最多100个副本。</span>\n    <span class=\"hljs-attr\">requiredNodeSelectorTerm:</span>\n      <span class=\"hljs-attr\">matchExpressions:</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">key:</span> <span class=\"hljs-string\">topology.kubernetes.io/zone</span>\n        <span class=\"hljs-attr\">operator:</span> <span class=\"hljs-string\">In</span>\n        <span class=\"hljs-attr\">values:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">ack</span>\n    <span class=\"hljs-attr\">maxReplicas:</span> <span class=\"hljs-number\">100</span>\n    <span class=\"hljs-attr\">patch:</span> <span class=\"hljs-comment\"># 注入label</span>\n      <span class=\"hljs-attr\">metadata:</span>\n        <span class=\"hljs-attr\">labels:</span>\n          <span class=\"hljs-attr\">topology.application.deploy/zone:</span> <span class=\"hljs-string\">ack</span>\n  <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">eci</span> <span class=\"hljs-comment\"># 弹性区域eci，副本数量不限。</span>\n    <span class=\"hljs-attr\">requiredNodeSelectorTerm:</span>\n      <span class=\"hljs-attr\">matchExpressions:</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">key:</span> <span class=\"hljs-string\">topology.kubernetes.io/zone</span>\n        <span class=\"hljs-attr\">operator:</span> <span class=\"hljs-string\">In</span>\n        <span class=\"hljs-attr\">values:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">eci</span>\n    <span class=\"hljs-attr\">patch:</span>\n      <span class=\"hljs-attr\">metadata:</span>\n        <span class=\"hljs-attr\">labels:</span>\n          <span class=\"hljs-attr\">topology.application.deploy/zone:</span> <span class=\"hljs-string\">eci</span>\n</code></pre>\n<ol start=\"2\">\n<li>创建workload，副本数可以自由调整。</li>\n</ol>\n<h4 id=\"%E9%83%A8%E7%BD%B2%E6%95%88%E6%9E%9C\">部署效果 <a class=\"header-anchor\" href=\"#%E9%83%A8%E7%BD%B2%E6%95%88%E6%9E%9C\">#</a></h4>\n<ul>\n<li>当replicas &lt;= 100 时，Pod被调度到ack上。</li>\n<li>当replicas &gt; 100 时，100个在ack，多余的Pod在弹性域eci。</li>\n<li>缩容时优先从弹性域eci上缩容。</li>\n</ul>\n<h3 id=\"%E5%A4%9A%E5%9F%9F%E9%83%A8%E7%BD%B2\">多域部署 <a class=\"header-anchor\" href=\"#%E5%A4%9A%E5%9F%9F%E9%83%A8%E7%BD%B2\">#</a></h3>\n<p>分别部署100个副本的Pod到两个机房（zone-a, zone-b）</p>\n<ol>\n<li>创建WorkloadSpread实例</li>\n</ol>\n<pre><code class=\"language-yaml\"><span class=\"hljs-attr\">apiVersion:</span> <span class=\"hljs-string\">apps.kruise.io/v1alpha1</span>\n<span class=\"hljs-attr\">kind:</span> <span class=\"hljs-string\">WorkloadSpread</span>\n<span class=\"hljs-attr\">metadta:</span>\n  <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">ws-demo</span>\n  <span class=\"hljs-attr\">namespace:</span> <span class=\"hljs-string\">deploy</span>\n<span class=\"hljs-attr\">spec:</span>\n  <span class=\"hljs-attr\">targetRef:</span> <span class=\"hljs-comment\"># 相同namespace下的workload</span>\n    <span class=\"hljs-attr\">apiVersion:</span> <span class=\"hljs-string\">apps.kruise.io/v1alpha1</span>\n    <span class=\"hljs-attr\">kind:</span> <span class=\"hljs-string\">CloneSet</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">cs-demo</span>\n  <span class=\"hljs-attr\">subsets:</span>\n  <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">subset-a</span> <span class=\"hljs-comment\"># 区域A，100个副本。</span>\n    <span class=\"hljs-attr\">requiredNodeSelectorTerm:</span>\n      <span class=\"hljs-attr\">matchExpressions:</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">key:</span> <span class=\"hljs-string\">topology.kubernetes.io/zone</span>\n        <span class=\"hljs-attr\">operator:</span> <span class=\"hljs-string\">In</span>\n        <span class=\"hljs-attr\">values:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">zone-a</span>\n    <span class=\"hljs-attr\">maxReplicas:</span> <span class=\"hljs-number\">100</span>\n    <span class=\"hljs-attr\">patch:</span>\n      <span class=\"hljs-attr\">metadata:</span>\n        <span class=\"hljs-attr\">labels:</span>\n          <span class=\"hljs-attr\">topology.application.deploy/zone:</span> <span class=\"hljs-string\">zone-a</span>\n  <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">subset-b</span> <span class=\"hljs-comment\"># 区域B，100个副本。</span>\n    <span class=\"hljs-attr\">requiredNodeSelectorTerm:</span>\n      <span class=\"hljs-attr\">matchExpressions:</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">key:</span> <span class=\"hljs-string\">topology.kubernetes.io/zone</span>\n        <span class=\"hljs-attr\">operator:</span> <span class=\"hljs-string\">In</span>\n        <span class=\"hljs-attr\">values:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">zone-b</span>\n    <span class=\"hljs-attr\">maxReplicas:</span> <span class=\"hljs-number\">100</span>\n    <span class=\"hljs-attr\">patch:</span>\n      <span class=\"hljs-attr\">metadata:</span>\n        <span class=\"hljs-attr\">labels:</span>\n          <span class=\"hljs-attr\">topology.application.deploy/zone:</span> <span class=\"hljs-string\">zone-b</span>\n</code></pre>\n<ol start=\"2\">\n<li>\n<p>创建一个200副本的新<code>CloneSet</code>，或者对现有的<code>CloneSet</code>执行滚动更新。</p>\n</li>\n<li>\n<p>若<code>subset</code>副本分布需要变动，先调整对应<code>subset</code>的<code>maxReplicas</code>，再调整workload副本数。</p>\n</li>\n</ol>\n",
  "link": "/zh-cn/docs/workloadspread.html",
  "meta": {
    "title": "WorkloadSpread"
  }
}